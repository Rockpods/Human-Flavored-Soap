pc.script.attribute('speed', 'number', 1, {
    min: 0.1,
    max: 10,
    step: 1,
    decimalPrecision: 2
});

pc.script.create('cog', function (app) {
    // Creates a new Cog instance
    var Cog = function (entity) {
        this.entity = entity;
    };

    Cog.prototype = {
        // Called once after all resources are loaded and before the first update
        initialize: function () {
            this.rot = 0;
            this.origRot = this.entity.getEulerAngles();
        },

        // Called every frame, dt is time in seconds since last update
        update: function (dt) {
            this.rot += this.speed;
            this.entity.setEulerAngles(this.origRot.x,this.rot,this.origRot.z);
            this.entity.findByName('Box1').rigidbody.syncEntityToBody();
            this.entity.findByName('Box2').rigidbody.syncEntityToBody();
            this.entity.findByName('Box3').rigidbody.syncEntityToBody();
            this.entity.findByName('Box4').rigidbody.syncEntityToBody();
            this.entity.findByName('Box5').rigidbody.syncEntityToBody();
            this.entity.findByName('Box6').rigidbody.syncEntityToBody();
            this.entity.findByName('Cylinder').rigidbody.syncEntityToBody();
        }
    };

    return Cog;
});