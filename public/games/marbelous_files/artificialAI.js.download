pc.script.create('artificialAI', function (app) {
    // Creates a new ArtificialAI instance
    var ArtificialAI = function (entity) {
        this.entity = entity;
    };
    var x1speed = 400;
    var y1speed = 400;
    
    ArtificialAI.prototype = {
        // Called once after all resources are loaded and before the first update
        initialize: function () {
        },

        // Called every frame, dt is time in seconds since last update
        update: function (dt) {
            this.findPos = this.entity.getPosition().clone();
            this.findPosE = app.context.root.findByName('ball').getPosition().clone();
            this.realX = this.findPos.x - this.findPosE.x;
            this.realY = this.findPos.z - this.findPosE.z;
            if(this.realX < 7 && this.realX > 0){
                if(this.realY < 7 && this.realY > 0){
                    x1speed = -6;
                    y1speed = -6;
                    this.entity.rigidbody.applyImpulse(x1speed, 0, y1speed);
                }
                if(this.realY > -7 && this.realY < 0){
                    x1speed = -6;
                    y1speed = 6;
                    this.entity.rigidbody.applyImpulse(x1speed, 0, y1speed);
                }
            }
            if(this.realX > -7 && this.realX < 0){
                if(this.realY < 7 && this.realY > 0){
                    x1speed = 6;
                    y1speed = -6;
                    this.entity.rigidbody.applyImpulse(x1speed, 0, y1speed);
                }
                if(this.realY > -7 && this.realY < 0){
                    x1speed = 6;
                    y1speed = 6;
                    this.entity.rigidbody.applyImpulse(x1speed, 0, y1speed);
                }
            }
        }
    };

    return ArtificialAI;
});